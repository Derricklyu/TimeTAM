<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSL数据集深度分析报告</title>
    <style>
        /* 全局样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        
        /* 标题样式 */
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-left: 15px;
            border-left: 5px solid #3498db;
        }
        
        h3 {
            color: #7f8c8d;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        /* 段落和文本样式 */
        p {
            margin-bottom: 15px;
            text-align: justify;
            line-height: 1.8;
        }
        
        /* 表格样式 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }
        
        table, th, td {
            border: 1px solid #ddd;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
        }
        
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        tr:hover {
            background-color: #e8f4fd;
        }
        
        /* 图表容器样式 */
        .chart-container {
            margin: 30px 0;
            text-align: center;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .chart-wrapper {
            margin: 0 auto;
            max-width: 100%;
            overflow-x: auto;
        }
        
        .chart-wrapper img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        /* 两列布局 */
        .two-columns {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .two-columns > div {
            flex: 1;
            min-width: 300px;
        }
        
        /* 三列布局 */
        .three-columns {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .three-columns > div {
            flex: 1;
            min-width: 250px;
        }
        
        /* 卡片样式 */
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 数据卡片 */
        .data-card {
            text-align: center;
            padding: 25px 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .data-card .value {
            font-size: 36px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .data-card .label {
            font-size: 16px;
            opacity: 0.9;
        }
        
        /* 引用样式 */
        blockquote {
            margin: 20px 0;
            padding: 15px 20px;
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            font-style: italic;
            color: #666;
        }
        
        /* 列表样式 */
        ul, ol {
            margin: 15px 0 15px 30px;
        }
        
        li {
            margin-bottom: 10px;
        }
        
        /* 警告框样式 */
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
            color: #856404;
        }
        
        /* 总结样式 */
        .summary {
            background-color: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        /* 页脚样式 */
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            background-color: #2c3e50;
            color: white;
            font-size: 14px;
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            h2 {
                font-size: 20px;
            }
            
            .data-card .value {
                font-size: 28px;
            }
            
            .two-columns, .three-columns {
                flex-direction: column;
            }
        }
        
        /* 样本数据表样式 */
        .sample-table {
            font-size: 12px;
        }
        
        .sample-table th, .sample-table td {
            padding: 8px 10px;
        }
        
        /* 滚动表格容器 */
        .scroll-table {
            overflow-x: auto;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>MSL数据集深度分析报告</h1>
        </header>
        
        <section id="dataset-overview">
            <h2>1. 数据集概述</h2>
            <p>MSL (Mars Science Laboratory) 数据集是NASA提供的时间序列异常检测数据集，来源于火星科学实验室任务中的传感器数据。该数据集包含多个传感器的测量值，可用于开发和评估异常检测算法。</p>
            
            <div class="three-columns">
                <div class="data-card">
                    <div class="label">训练集样本数</div>
                    <div class="value">58,317</div>
                </div>
                <div class="data-card">
                    <div class="label">测试集样本数</div>
                    <div class="value">73,729</div>
                </div>
                <div class="data-card">
                    <div class="label">特征数量</div>
                    <div class="value">55</div>
                </div>
            </div>
            
            <div class="two-columns">
                <div class="card">
                    <h3>数据集特点</h3>
                    <ul>
                        <li>时间序列数据，具有时序依赖性</li>
                        <li>多特征传感器数据</li>
                        <li>类别不平衡（异常样本约占10.53%）</li>
                        <li>部分特征存在较强相关性</li>
                        <li>数据已进行预处理和标准化</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>数据格式</h3>
                    <ul>
                        <li>训练集：npy格式，形状为(58317, 55)</li>
                        <li>测试集：npy格式，形状为(73729, 55)</li>
                        <li>测试标签：npy格式，形状为(73729,)，0表示正常，1表示异常</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="data-samples">
            <h2>2. 数据样例展示</h2>
            <p>以下是从训练集和测试集中随机选取的样本数据，展示了前10个特征的值。从样本数据可以看出，大部分特征值为0，只有少数特征有非零值，这反映了MSL数据集的稀疏性特点。</p>
            
            <div class="scroll-table">
                <!-- 这里将插入样本数据表格 -->
                <script>
                    // 使用JavaScript加载样本数据表格
                    document.addEventListener('DOMContentLoaded', function() {
                        fetch('msl_analysis_charts/sample_data_table.html')
                            .then(response => response.text())
                            .then(html => {
                                document.querySelector('.scroll-table').innerHTML = html;
                            })
                            .catch(error => {
                                document.querySelector('.scroll-table').innerHTML = '<p>无法加载样本数据表格</p>';
                                console.error('加载样本数据表格失败:', error);
                            });
                    });
                </script>
            </div>
        </section>
        
        <section id="data-statistics">
            <h2>3. 数据统计特征</h2>
            <p>对MSL数据集的特征进行统计分析，计算了每个特征的最小值、最大值、平均值、中位数和标准差等统计指标。这些统计信息有助于理解数据的分布特征和异常情况。</p>
            
            <div class="chart-container">
                <div class="chart-title">特征统计信息对比（前8个特征）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_feature_statistics.png" alt="特征统计信息对比图">
                </div>
            </div>
            
            <div class="card">
                <h3>主要统计发现</h3>
                <ul>
                    <li>特征1（首个特征）具有较大的变异性，标准差约为0.83</li>
                    <li>大部分特征（从特征2到特征55）呈现高度稀疏性，平均值接近0</li>
                    <li>特征值范围广泛，不同特征的取值范围差异较大</li>
                    <li>部分特征存在明显的偏态分布</li>
                </ul>
            </div>
        </section>
        
        <section id="label-distribution">
            <h2>4. 标签分布分析</h2>
            <p>MSL数据集的测试集包含正常样本和异常样本，其中异常样本占比约为10.53%。这种类别不平衡是异常检测问题的常见特征，需要在模型训练和评估过程中特别注意。</p>
            
            <div class="chart-container">
                <div class="chart-title">测试集标签分布</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_label_distribution.png" alt="标签分布图">
                </div>
            </div>
            
            <div class="warning">
                <strong>注意：</strong>类别不平衡可能会导致模型在训练过程中偏向于预测多数类（正常样本）。在评估模型性能时，建议使用精确率、召回率、F1分数等指标，而不仅仅是准确率。
            </div>
        </section>
        
        <section id="feature-distribution">
            <h2>5. 特征分布分析</h2>
            <p>对MSL数据集的前12个特征进行分布分析，有助于理解各个特征的取值范围、集中趋势和离散程度，为后续的特征选择和异常检测算法设计提供依据。</p>
            
            <div class="chart-container">
                <div class="chart-title">特征分布直方图（前12个特征）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_feature_distribution.png" alt="特征分布图">
                </div>
            </div>
            
            <div class="two-columns">
                <div class="card">
                    <h3>特征分布特点</h3>
                    <ul>
                        <li>特征1呈现近似正态分布</li>
                        <li>大部分其他特征呈现高度偏态分布</li>
                        <li>多个特征具有明显的双峰或多峰分布</li>
                        <li>部分特征存在异常值</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>分布分析意义</h3>
                    <ul>
                        <li>了解数据的内在结构和模式</li>
                        <li>识别可能的异常值和离群点</li>
                        <li>为数据预处理提供指导（如标准化、归一化）</li>
                        <li>为选择合适的异常检测算法提供依据</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="feature-boxplots">
            <h2>6. 特征箱线图分析</h2>
            <p>箱线图能够直观地展示数据的分布特征，包括中位数、四分位数、异常值等信息。通过分析MSL数据集的特征箱线图，可以更好地理解各特征的数据分布情况。</p>
            
            <div class="chart-container">
                <div class="chart-title">特征箱线图（前12个特征）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_feature_boxplots.png" alt="特征箱线图">
                </div>
            </div>
            
            <div class="summary">
                <h3>箱线图分析总结</h3>
                <p>从箱线图可以看出，MSL数据集的特征呈现出明显的差异化分布。特征1具有最宽的数据分布范围和最多的异常值，而其他特征的数据分布相对集中，大部分取值为0或接近0。这种分布特征表明，在进行异常检测时，需要考虑不同特征的权重和重要性。</p>
            </div>
        </section>
        
        <section id="radar-chart">
            <h2>7. 特征统计信息雷达图</h2>
            <p>雷达图可以同时展示多个统计指标，帮助我们比较不同特征在各个统计维度上的表现。通过雷达图，我们可以更全面地了解MSL数据集各特征的统计特性。</p>
            
            <div class="chart-container">
                <div class="chart-title">特征统计信息雷达图（前8个特征）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_feature_radar_chart.png" alt="特征雷达图">
                </div>
            </div>
            
            <blockquote>
                雷达图清晰地展示了不同特征在最小值、最大值、平均值、中位数和标准差等统计指标上的差异。特征1在所有统计指标上都表现出明显的独特性，而其他特征则相对相似。
            </blockquote>
        </section>
        
        <section id="time-series">
            <h2>8. 时间序列分析</h2>
            <p>时间序列分析是理解时序数据的重要手段。通过分析MSL数据集的时间序列特性，我们可以观察数据的趋势、季节性、周期性等模式，以及异常发生的时间点和上下文。</p>
            
            <div class="chart-container">
                <div class="chart-title">时间序列图（前5个特征，前500个时间步）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_time_series.png" alt="时间序列图">
                </div>
            </div>
            
            <div class="two-columns">
                <div class="card">
                    <h3>时间序列特征</h3>
                    <ul>
                        <li>特征1显示出明显的时序波动</li>
                        <li>部分特征在特定时间点出现突发值</li>
                        <li>异常点通常与数据的急剧变化相关</li>
                        <li>不同特征的时序模式存在差异</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>异常检测启示</h3>
                    <ul>
                        <li>应考虑时间上下文进行异常检测</li>
                        <li>不同特征的异常模式可能不同</li>
                        <li>结合多个特征可以提高检测准确性</li>
                        <li>时序模型（如LSTM、GRU）可能更适合该数据集</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="correlation">
            <h2>9. 特征相关性分析</h2>
            <p>特征相关性分析可以帮助我们理解不同特征之间的关系，识别冗余特征，以及发现潜在的数据模式。对于异常检测任务，了解特征相关性有助于设计更有效的特征组合和检测策略。</p>
            
            <div class="chart-container">
                <div class="chart-title">特征相关性热力图（前20个特征）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_correlation_heatmap.png" alt="相关性热力图">
                </div>
            </div>
            
            <div class="summary">
                <h3>相关性分析结论</h3>
                <p>MSL数据集的特征相关性分析显示，大部分特征之间的相关性较弱（相关系数接近0），这表明各特征包含的信息相对独立。然而，仍有部分特征对之间存在一定程度的正相关或负相关。在构建异常检测模型时，可以考虑利用这些相关性来提高检测性能。</p>
            </div>
        </section>
        
        <section id="feature-activity">
            <h2>10. 特征活动分析</h2>
            <p>特征活动分析可以帮助我们了解哪些特征在何时有非零值，这对于理解数据的动态特性和异常发生的上下文非常重要。在MSL数据集这种存在大量零值的情况下，特征活动分析尤其有价值。</p>
            
            <div class="chart-container">
                <div class="chart-title">特征活动热力图（前20个特征，前500个时间步）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_feature_activity_heatmap.png" alt="特征活动热力图">
                </div>
            </div>
            
            <p>从特征活动热力图可以看出，MSL数据集的大部分特征在大部分时间步上取值为0（黑色区域），只有少数时间步上有非零值（白色区域）。红色虚线标记了异常发生的时间点，可以观察到异常发生时的特征活动模式与正常状态有所不同。</p>
        </section>
        
        <section id="anomaly-comparison">
            <h2>11. 正常样本与异常样本比较</h2>
            <p>比较正常样本和异常样本的特征分布，可以帮助我们理解异常的特征和模式，为设计更有效的异常检测算法提供依据。</p>
            
            <div class="chart-container">
                <div class="chart-title">正常样本与异常样本特征分布比较（前4个特征）</div>
                <div class="chart-wrapper">
                    <img src="msl_analysis_charts/msl_anomaly_comparison.png" alt="正常/异常样本比较图">
                </div>
            </div>
            
            <div class="two-columns">
                <div class="card">
                    <h3>正常样本特点</h3>
                    <ul>
                        <li>特征值分布相对集中</li>
                        <li>较少出现极端值</li>
                        <li>时序波动较为平缓</li>
                        <li>特征活动模式相对稳定</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>异常样本特点</h3>
                    <ul>
                        <li>部分特征值偏离正常范围</li>
                        <li>特征波动幅度增大</li>
                        <li>特征活动模式发生显著变化</li>
                        <li>多个特征可能同时出现异常</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="conclusion">
            <h2>12. 结论与建议</h2>
            
            <div class="summary">
                <h3>主要发现</h3>
                <ol>
                    <li>MSL数据集是一个时序异常检测数据集，包含58,317个训练样本和73,729个测试样本，每个样本有55个特征</li>
                    <li>数据集存在明显的类别不平衡问题，异常样本仅占10.53%</li>
                    <li>大部分特征呈现高度稀疏性，大部分时间取值为0</li>
                    <li>特征之间的相关性较弱，各特征包含的信息相对独立</li>
                    <li>异常样本与正常样本在特征分布和时序模式上存在明显差异</li>
                </ol>
            </div>
            
            <div class="card">
                <h3>数据预处理建议</h3>
                <ul>
                    <li>对数据进行标准化或归一化处理，使不同特征具有相同的尺度</li>
                    <li>考虑使用SMOTE等技术处理类别不平衡问题</li>
                    <li>对高度稀疏的特征进行特征选择或降维处理</li>
                    <li>提取时序特征，如滑动窗口统计量等</li>
                </ul>
            </div>
            
            <div class="card">
                <h3>异常检测算法建议</h3>
                <ul>
                    <li>考虑使用基于时序的异常检测算法，如LSTM-Autoencoder、Isolation Forest等</li>
                    <li>结合多种特征和检测方法，提高检测准确性</li>
                    <li>使用集成学习方法，综合多个检测模型的结果</li>
                    <li>考虑使用注意力机制，关注重要的特征和时间点</li>
                </ul>
            </div>
            
            <div class="warning">
                <strong>注意事项：</strong>在评估异常检测算法性能时，应综合考虑准确率、精确率、召回率、F1分数等多个指标，而不仅仅依赖于单一指标。由于数据集存在类别不平衡问题，召回率可能比准确率更能反映算法的实际性能。
            </div>
        </section>
    </div>
    
    <footer>
        <p>MSL数据集深度分析报告 © 2024</p>
    </footer>
</body>
</html>